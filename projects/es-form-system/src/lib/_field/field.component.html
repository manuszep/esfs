<div class="esfs-field">
  {{ control.fieldComponent | json }}
  <ng-container
    #fieldContainer
    [ngComponentOutlet]="control.fieldComponent"
    [ngComponentOutletInputs]="{
      name: name,
      form: form,
      control: control,
      esfsChange: esfsChange,
      esfsBlur: esfsBlur
    }">
  </ng-container>
  <!--@switch (control.fieldType) {
    @case ('address') {
      <esfs-address
        #fld
        [name]="name"
        [form]="form"
        [control]="$any(control)"
        (esfsChange)="handleChange($any($event))"></esfs-address>
    }
    @case ('text') {
      <esfs-text
        #fld
        [name]="name"
        [form]="form"
        [control]="$any(control)"
        (esfsBlur)="handleBlur()"
        (esfsChange)="handleChange($any($event))"></esfs-text>
    }

    @case ('number') {
      <esfs-number
        #fld
        [name]="name"
        [form]="form"
        [control]="$any(control)"
        (esfsBlur)="handleBlur()"
        (esfsChange)="handleChange($any($event))"></esfs-number>
    }

    @case ('checkbox') {
      <esfs-checkbox
        #fld
        [name]="name"
        [form]="form"
        [control]="$any(control)"
        (esfsChange)="handleChange($any($event))"></esfs-checkbox>
    }

    @case ('dropdown') {
      <esfs-dropdown
        #fld
        [name]="name"
        [form]="form"
        [control]="$any(control)"
        (esfsBlur)="handleBlur()"
        (esfsChange)="handleChange($any($event))"></esfs-dropdown>
    }

    @case ('date') {
      <esfs-date
        #fld
        [name]="name"
        [form]="form"
        [control]="$any(control)"
        (esfsBlur)="handleBlur()"
        (esfsChange)="handleChange($any($event))"></esfs-date>
    }

    @case ('phone') {
      <esfs-phone
        #fld
        [name]="name"
        [form]="form"
        [control]="$any(control)"
        (esfsBlur)="handleBlur()"
        (esfsChange)="handleChange($any($event))"></esfs-phone>
    }

    @case ('radio') {
      <esfs-radio
        #fld
        [name]="name"
        [form]="form"
        [control]="$any(control)"
        (esfsChange)="handleChange($any($event))"></esfs-radio>
    }
}-->

  @if (control.errors && (control.dirty || control.touched)) {
    <div class="esfs-field__error">
      {{ control.errors | esfsFormError : control.keyPrefix() + '.ERROR' }}
    </div>
  }
</div>
